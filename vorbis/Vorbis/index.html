<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Vorbis (vorbis.Vorbis)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">Index</a> &#x00BB; <a href="../index.html">vorbis</a> &#x00BB; Vorbis</nav><header class="odoc-preamble"><h1>Module <code><span>Vorbis</span></code></h1><p>* Decode from or encode to the Ogg Vorbis compressed audio format; * or get informations about an Ogg Vorbis file. * * </p><ul class="at-tags"><li class="author"><span class="at-tag">author</span> Samuel Mimram, Julien Cristau, David Baelde</li></ul></header><div class="odoc-tocs"><nav class="odoc-toc odoc-local-toc"><ul><li><a href="#exceptions">Exceptions</a></li><li><a href="#useful-types">Useful types</a></li><li><a href="#operations-with-vorbis-streams">Operations with vorbis streams</a><ul><li><a href="#encoding">Encoding</a></li><li><a href="#decoding">Decoding</a></li></ul></li><li><a href="#operations-with-vorbis-files">Operations with vorbis files</a><ul><li><a href="#decoding_2">Decoding</a></li></ul></li></ul></nav></div><div class="odoc-content"><h2 id="exceptions"><a href="#exceptions" class="anchor"></a>Exceptions</h2><div class="odoc-spec"><div class="spec exception anchored" id="exception-False"><a href="#exception-False" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">False</span></span></code></div><div class="spec-doc"><p>The call returned a 'false' status (eg, ov_bitrate_instant * can return OV_FALSE if playback is not in progress, and thus * there is no instantaneous bitrate information to report.</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Invalid_parameters"><a href="#exception-Invalid_parameters" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Invalid_parameters</span></span></code></div><div class="spec-doc"><p>Some parameters are invalid for this function.</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Invalid_channels"><a href="#exception-Invalid_channels" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Invalid_channels</span></span></code></div><div class="spec-doc"><p>The given number of channels is invalid.</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Invalid_argument"><a href="#exception-Invalid_argument" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Invalid_argument</span></span></code></div><div class="spec-doc"><p>Invalid setup request, e.g. out of range argument.</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Could_not_open_file"><a href="#exception-Could_not_open_file" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Could_not_open_file</span></span></code></div><div class="spec-doc"><p>The given file could not be opened.</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Not_vorbis"><a href="#exception-Not_vorbis" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Not_vorbis</span></span></code></div><div class="spec-doc"><p>Bitstream is not Vorbis data.</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Bad_header"><a href="#exception-Bad_header" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Bad_header</span></span></code></div><div class="spec-doc"><p>Invalid Vorbis bitstream header.</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Read_error"><a href="#exception-Read_error" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Read_error</span></span></code></div><div class="spec-doc"><p>A read from media returned an error.</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Not_audio"><a href="#exception-Not_audio" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Not_audio</span></span></code></div><div class="spec-doc"><p>Ogg packet doesn't contain audio data</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Internal_fault"><a href="#exception-Internal_fault" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Internal_fault</span></span></code></div><div class="spec-doc"><p>Internal logic fault; indicates a bug or heap/stack corruption.</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Hole_in_data"><a href="#exception-Hole_in_data" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Hole_in_data</span></span></code></div><div class="spec-doc"><p>Indicates there was an interruption in the data (one of: garbage between * pages, loss of sync followed by recapture, or a corrupt page).</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Bad_link"><a href="#exception-Bad_link" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Bad_link</span></span></code></div><div class="spec-doc"><p>Indicates that an invalid stream section was supplied, * or the requested link is corrupt.</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Version_mismatch"><a href="#exception-Version_mismatch" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Version_mismatch</span></span></code></div><div class="spec-doc"><p>Invalid Vorbis bitstream header.</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Not_implemented"><a href="#exception-Not_implemented" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Not_implemented</span></span></code></div><div class="spec-doc"><p>Unimplemented mode.</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Unknown_error"><a href="#exception-Unknown_error" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Unknown_error</span> <span class="keyword">of</span> int</span></code></div><div class="spec-doc"><p>An unknown error happened (it should not have happened, please report).</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Utf8_failure"><a href="#exception-Utf8_failure" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Utf8_failure</span> <span class="keyword">of</span> string</span></code></div><div class="spec-doc"><p>Error while converting utf8.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_exc"><a href="#val-string_of_exc" class="anchor"></a><code><span><span class="keyword">val</span> string_of_exc : <span>exn <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div><div class="spec-doc"><p>Return a string representation * of an exception</p></div></div><h2 id="useful-types"><a href="#useful-types" class="anchor"></a>Useful types</h2><div class="odoc-spec"><div class="spec type anchored" id="type-bitstream"><a href="#type-bitstream" class="anchor"></a><code><span><span class="keyword">type</span> bitstream</span><span> = int</span></code></div><div class="spec-doc"><p>Index of a logical bitstream. The special value -1 means the physical * bitsream.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-info"><a href="#type-info" class="anchor"></a><code><span><span class="keyword">type</span> info</span><span> = </span><span>{</span></code><ol><li id="type-info.vorbis_version" class="def record field anchored"><a href="#type-info.vorbis_version" class="anchor"></a><code><span>vorbis_version : int;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>version of vorbis codec, must be 0</p><span class="comment-delim">*)</span></div></li><li id="type-info.audio_channels" class="def record field anchored"><a href="#type-info.audio_channels" class="anchor"></a><code><span>audio_channels : int;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>number of audio channels</p><span class="comment-delim">*)</span></div></li><li id="type-info.audio_samplerate" class="def record field anchored"><a href="#type-info.audio_samplerate" class="anchor"></a><code><span>audio_samplerate : int;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>samplerate in Hertz</p><span class="comment-delim">*)</span></div></li><li id="type-info.bitrate_upper" class="def record field anchored"><a href="#type-info.bitrate_upper" class="anchor"></a><code><span>bitrate_upper : int;</span></code></li><li id="type-info.bitrate_nominal" class="def record field anchored"><a href="#type-info.bitrate_nominal" class="anchor"></a><code><span>bitrate_nominal : int;</span></code></li><li id="type-info.bitrate_lower" class="def record field anchored"><a href="#type-info.bitrate_lower" class="anchor"></a><code><span>bitrate_lower : int;</span></code></li><li id="type-info.bitrate_window" class="def record field anchored"><a href="#type-info.bitrate_window" class="anchor"></a><code><span>bitrate_window : int;</span></code></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Vorbis informations about a file.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-tags"><a href="#val-tags" class="anchor"></a><code><span><span class="keyword">val</span> tags : <span><span><span>(string, string)</span> <span class="xref-unresolved">Stdlib</span>.Hashtbl.t</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span>(string * string)</span> list</span></span></code></div><div class="spec-doc"><p>Create a list of vorbis tags.</p></div></div><h2 id="operations-with-vorbis-streams"><a href="#operations-with-vorbis-streams" class="anchor"></a>Operations with vorbis streams</h2><h3 id="encoding"><a href="#encoding" class="anchor"></a>Encoding</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Encoder"><a href="#module-Encoder" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Encoder/index.html">Encoder</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><h3 id="decoding"><a href="#decoding" class="anchor"></a>Decoding</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Decoder"><a href="#module-Decoder" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Decoder/index.html">Decoder</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><h2 id="operations-with-vorbis-files"><a href="#operations-with-vorbis-files" class="anchor"></a>Operations with vorbis files</h2><h3 id="decoding_2"><a href="#decoding_2" class="anchor"></a>Decoding</h3><div class="odoc-spec"><div class="spec module anchored" id="module-File"><a href="#module-File" class="anchor"></a><code><span><span class="keyword">module</span> <a href="File/index.html">File</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Skeleton"><a href="#module-Skeleton" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Skeleton/index.html">Skeleton</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></body></html>
