<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Encoder (vorbis.Vorbis.Encoder)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.4"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">vorbis</a> &#x00BB; <a href="../index.html">Vorbis</a> &#x00BB; Encoder</nav><header class="odoc-preamble"><h1>Module <code><span>Vorbis.Encoder</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>Internal state of an encoder.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>create chans rate max_br nom_br min_br</code> creates a new encoder with * <code>chans</code> channels, with sample rate <code>rate</code> Hz and with respectively <code>max_br</code>, * <code>nom_br</code> and <code>min_br</code> as maximal, nominal and minimal bitrates (in bps).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create_vbr"><a href="#val-create_vbr" class="anchor"></a><code><span><span class="keyword">val</span> create_vbr : <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>create_vbr chans rate quality</code> creates a new encoder in variable bitrate * with <code>chans</code> channels, with sample rate <code>rate</code> Hz and with quality * <code>quality</code>, which should be between -1 and 1 (1 is the best).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-reset"><a href="#val-reset" class="anchor"></a><code><span><span class="keyword">val</span> reset : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-headerout"><a href="#val-headerout" class="anchor"></a><code><span><span class="keyword">val</span> headerout : 
  <span><span class="optlabel">?encoder</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../ogg/Ogg/Stream/index.html#type-stream">Ogg.Stream.stream</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(string * string)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Encode a header given a list of tags.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-headerout_packetout"><a href="#val-headerout_packetout" class="anchor"></a><code><span><span class="keyword">val</span> headerout_packetout : 
  <span><span class="optlabel">?encoder</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(string * string)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../../ogg/Ogg/Stream/index.html#type-packet">Ogg.Stream.packet</a> * <a href="../../../ogg/Ogg/Stream/index.html#type-packet">Ogg.Stream.packet</a> * <a href="../../../ogg/Ogg/Stream/index.html#type-packet">Ogg.Stream.packet</a></span></code></div><div class="spec-doc"><p>Encoder a header, but do not submit packet to * Ogg Stream. Usefull when multiplexing ogg streams * since the all first packets of each streams must be packed * in the initial pages.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_channels"><a href="#val-get_channels" class="anchor"></a><code><span><span class="keyword">val</span> get_channels : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Get the number of audio channels expected by * the encoder.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-encode_buffer_float"><a href="#val-encode_buffer_float" class="anchor"></a><code><span><span class="keyword">val</span> encode_buffer_float : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../ogg/Ogg/Stream/index.html#type-stream">Ogg.Stream.stream</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>float array</span> array</span> <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Encode a buffer of PCM data. * The PCM data array must have at least the expected * number of channels. Otherwise, the function raises <code>Invalid_channels</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-encode_buffer_float_ba"><a href="#val-encode_buffer_float_ba" class="anchor"></a><code><span><span class="keyword">val</span> encode_buffer_float_ba : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../ogg/Ogg/Stream/index.html#type-stream">Ogg.Stream.stream</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span>(float, <span class="xref-unresolved">Stdlib</span>.Bigarray.float32_elt, <span class="xref-unresolved">Stdlib</span>.Bigarray.c_layout)</span>
    <span class="xref-unresolved">Stdlib</span>.Bigarray.Array1.t</span>
    array</span> <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-time_of_granulepos"><a href="#val-time_of_granulepos" class="anchor"></a><code><span><span class="keyword">val</span> time_of_granulepos : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Stdlib</span>.Int64.t <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Stdlib</span>.Nativeint.t</span></code></div><div class="spec-doc"><p>Convert a granulepos to absolute time in seconds. The granulepos is * interpreted in the context of a given encoder, and gives * the end time of a frame's presentation as used in Ogg mux ordering.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-end_of_stream"><a href="#val-end_of_stream" class="anchor"></a><code><span><span class="keyword">val</span> end_of_stream : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../ogg/Ogg/Stream/index.html#type-stream">Ogg.Stream.stream</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div></div></body></html>
